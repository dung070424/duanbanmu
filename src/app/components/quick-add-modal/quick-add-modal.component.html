<div
  class="modal fade"
  [class.show]="show"
  [style.display]="show ? 'block' : 'none'"
  tabindex="-1"
  aria-labelledby="quickAddModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="quickAddModalLabel">{{ modalTitle }}</h5>
        <button type="button" class="btn-close" (click)="closeModal()"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onSave()">
          <div class="mb-3" *ngFor="let field of fields">
            <label [for]="field.name" class="form-label"
              >{{ field.label }} <span *ngIf="field.required" class="text-danger">*</span></label
            >
            <ng-container [ngSwitch]="field.type">
              <input
                *ngSwitchCase="'text'"
                type="text"
                class="form-control"
                [id]="field.name"
                [(ngModel)]="form[field.name]"
                [name]="field.name"
                [placeholder]="'Nhập ' + field.label.toLowerCase()"
                [required]="field.required || false"
              />
              <input
                *ngSwitchCase="'number'"
                type="number"
                class="form-control"
                [id]="field.name"
                [(ngModel)]="form[field.name]"
                [name]="field.name"
                [placeholder]="'Nhập ' + field.label.toLowerCase()"
                [required]="field.required || false"
              />
              <textarea
                *ngSwitchCase="'textarea'"
                class="form-control"
                [id]="field.name"
                [(ngModel)]="form[field.name]"
                [name]="field.name"
                rows="3"
                [placeholder]="'Nhập ' + field.label.toLowerCase() + ' (tùy chọn)'"
              ></textarea>
              <select
                *ngSwitchCase="'select'"
                class="form-select"
                [id]="field.name"
                [(ngModel)]="form[field.name]"
                [name]="field.name"
                [required]="field.required || false"
              >
                <option *ngFor="let option of field.options" [ngValue]="option.value">
                  {{ option.label }}
                </option>
              </select>
            </ng-container>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Hủy</button>
        <button type="submit" class="btn btn-primary" (click)="onSave()">Thêm mới</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal backdrop -->
<div
  class="modal-backdrop fade"
  [class.show]="show"
  [style.display]="show ? 'block' : 'none'"
  style="z-index: 1070"
></div>
